/* pagination */
@media print, screen {
    .pmb-main-matter {
        display: block;
        page: main;
        counter-reset: page 1
    }
    @page main {
        counter-reset: footnote;

        @footnotes {
            border-top: solid black thin;
            padding-top: 8pt;
        }
        @top {
            content: flow(normal-header);
        }
        @bottom {
            content: flow(normal-footer);
        }
    }
    @page{
        margin-top:100px;
        @top{
            vertical-align:top;
            padding-top:20px;
        }
    }
    @page title{
        margin:10px;
        @bottom-right{
            content:none;
        }
    }
    body{
        prince-footnote-policy: keep-with-line;
    }
    :root{
        --primary-font-color:rgb(18,62,122);
        --secondary-font-color:rgb(138,150,157);
    }

    /* General styles*/
    h1,h2,h3,h4,h5,h6{
        page-break-after:avoid;
        page-break-inside:avoid;
    }

    /* title page */
    .pmb-title-page{
        page:title;
    }
    .pmbcpm-title-page-logo{
        width:100%;
    }
    .pmbcpm-title-page-issue-wrapper{
        text-align:right;
        margin-top:-3vw;
    }
    .pmbcpm-title-page-cover-image-wrapper{
        margin-top:30px;
    }
    /**
    Sets maximum height of dynamic cover page
     */
    .pmb-posts .pmb-dynamic-resize img{
        height:50px;
    }

    /* toc, if it were used */
    .pmb-toc-list li{
        list-style:none;
    }

    .pmb-toc-list{
        display:table;
    }
    .pmb-toc-list>div{
        display:table-row;
    }
    .pmbcpm-toc-part-title-wrapper, .pmbcpm-part-title{
        text-transform:uppercase;
        color: var(--secondary-font-color);
        font-family: var(--pmb-header-font);
    }
    .pmbcpm-toc-part-title-cell{
        padding-top:20px;
    }
     .pmbcpm-part-underline{
         border-bottom:2px solid var(--primary-font-color);
         padding-bottom:5px;
    }
    .pmbcpm-first-item{
        width:100px;
    };
    .pmbcpm-toc-article-title-wrapper a.pmbcpm-page-ref{
        color:var(--primary-font-color);
        display:inline-block;/*Must be an inline block or else the ::after selector doesn't work on it when its empty*/
        text-decoration: none;
    }
    /* The above should remove the underline from the TOC page reference links, but doesn't in Prince (did in Firefox). This was needed.*/
    a{
        text-decoration:none;
    }
    .pmbcpm-toc-article-title-wrapper a.pmbcpm-page-ref::after{
        content: target-counter(attr(href), page) !important;
        color:var(--primary-font-color);
    }
    .pmbcpm-toc-article-link{
        color:var(--primary-font-color);
    }
    a.pmbcpm-toc-article-link:link, a.pmbcpm-page-ref:link::after{
        text-decoration: none;
    }
    a.pmbcpm-toc-article-link:visited, a.pmbcpm-page-ref:visited::after {
        text-decoration: none;
    }

    .pmbcpm-toc-article-title-wrapper a{
        font-family: var(--pmb-header-font);
    }

    .pmbcpm-toc-excerpt{
        margin-top:5px;
        color:var(--secondary-font-color);
    }
    .pmb-toc-list>div>div{
        display:table-cell;
        padding-bottom:15px;
    }

        /* parts */
    .pmb-part-wrapper{
        break-before:page;
    }

    /* Hide part titles, but we'll use them in the TOC and margins. */
    .pmbcpm-part-title-wrapper{
        /*display:none;*/
        -prince-flow:static(normal-header);
    }

    #pmbcpm-footer-margin-wrap{
        -prince-flow:static(normal-footer);
    }
    .pmbcpm-footer-margin-wrap{
        font-size:0.5em;
    }
    .pmbcpm-footer-margin{
        text-align:center;
        font-family: var(--pmb-header-font);
    }
    .pmbcpm-pagenum-wrapper{
        margin-bottom:10px;
        color:var(--secondary-font-color);
        font-size:2em;
    }
    .pmb-publication-data{
        border-top:1px solid black;
        padding-top:5px;
        text-transform: uppercase;
    }
    .pmb-page-number::after {
        content: counter(page);
    }

    .pmb-article h1.pmb-title{
        font-size:4em;
        color:var(--primary-font-color);
        margin-bottom:10px;
        margin-top:0;
    }
    .pmbcpm-subtitle h2{
        font-size:1.8em;
        color:var(--secondary-font-color);
        text-align:center;
        font-family:var(--pmb-main-font);
    }

    .byline-wrapper{
        text-align:center;
    }

    /* Article column stuff */
    .pmb-front-matter, .pmb-main-matter, .pmb-back-matter{
        columns:2;
        column-rule: 1px solid black;
        column-gap:20px;
    }

    .entry-header, .pmb-wide{
        column-span:all;
    }


    /* Justify content looks way better when there are columns */
    article:not(.pmb-just-content) div.entry-content p:not(.has-text-align-center, .has-text-align-right),
    article:not(.pmb-just-content) div.entry-content li {
        text-justify: inter-character;
        text-align: justify;
    }

    .pmb-print-page .pmb-single-column, .pmb-print-page .pmb-just-content {
        column-span: all;
    }

    /* Because we're in columns, save a bit of space by decreasing the indent on lists.*/
    ul, ol {
        padding-left: 1em;
    }
    /* Heading */
    .entry-header{
        margin-top:30px;
        margin-bottom:30px;
    }
    .entry-header.middle .post-thumbnail{
        margin-top:30px;
    }

        /* Featuerd images */
    .post-thumbnail{
        column-span:all;
        margin-top:30px;
    }
    .post-thumbnail>img{
        width:auto;
    }
    .post-thumbnail.top{
        height:40vh;
        -prince-float:top page;
        margin-top:0;
    }
    .post-thumbnail.middle{
        height:30vh;
    }
    .post-thumbnail.top>*, .post-thumbnail.middle>*{
        max-height:100%;
        width:auto;
        margin-left:auto;
        margin-right:auto;
    }
    .post-thumbnail.bottom {
        -prince-float: bottom;
        width: auto;
        /*margin-left: -200px;*/
        /*margin-bottom: -200px;*/
        height:30vh;
    }
    .post-thumbnail.bottom>*{
        height:100%;
        /*height:calc(100% + 200px);*/
    }

    .post-thumbnail.bottom>figcaption{
        margin-top:-30px;
    }
    .post-thumbnail.bottom .pmbcpm-caption-span{
        padding:5px;
        background:rgba(255,255,255,0.5)
    }



    /* miscellaneous */
    .pmb-posts span.pmb-footnote{
        float:footnote;
        text-align:left;
        margin-left:0;
        font-weight:normal;
    }

    .pmbcpm-article-end-icon{
        width:1em;
        float:right;
    }
}